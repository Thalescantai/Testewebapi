<%= form_with(model: paciente, class: "card shadow-sm border-0") do |form| %>
  <div class="card-header bg-primary text-white fw-semibold">
    <i class="fas fa-user me-2"></i>
    <%= paciente.new_record? ? "Cadastrar Paciente" : "Editar Paciente" %>
  </div>

  <div class="card-body">
    <% if paciente.errors.any? %>
      <div class="alert alert-danger">
        <h6 class="fw-bold mb-2">
          <i class="fas fa-exclamation-triangle me-1"></i>
          Erros encontrados:
        </h6>
        <ul class="mb-0">
          <% paciente.errors.full_messages.each do |message| %>
            <li><%= message %></li>
          <% end %>
        </ul>
      </div>
    <% end %>

    <div class="row g-3">
      <div class="col-md-6">
        <div class="form-floating">
          <%= form.text_field :nome, class: "form-control", placeholder: "Nome completo" %>
          <%= form.label :nome, "Nome completo" %>
        </div>
      </div>

      <div class="col-md-3">
        <div class="form-floating">
          <%= form.text_field :cpf, class: "form-control", placeholder: "CPF" %>
          <%= form.label :cpf, "CPF" %>
        </div>
      </div>

      <div class="col-md-3">
        <div class="form-floating">
          <%= form.select :sexo,
                [["Masculino", "masculino"], ["Feminino", "feminino"], ["Indefinido", "indefinido"]],
                { include_blank: "Selecione..." },
                class: "form-select" %>
          <%= form.label :sexo, "Sexo" %>
        </div>
      </div>

      <div class="col-md-3">
        <div class="form-floating">
          <%= form.date_field :data_nascimento, class: "form-control", placeholder: "Data de Nascimento" %>
          <%= form.label :data_nascimento, "Data de Nascimento" %>
        </div>
      </div>

      <div class="col-md-3">
        <div class="form-floating">
          <%= form.text_field :celular, class: "form-control", placeholder: "(99) 99999-9999" %>
          <%= form.label :celular, "Celular" %>
        </div>
      </div>

      <div class="col-md-6">
        <div class="form-floating">
          <%= form.email_field :email, class: "form-control", placeholder: "Email" %>
          <%= form.label :email, "Email" %>
        </div>
      </div>

      <div class="col-md-6">
        <div class="form-floating">
          <%= form.text_field :nome_social, class: "form-control", placeholder: "Nome social (opcional)" %>
          <%= form.label :nome_social, "Nome social (opcional)" %>
        </div>
      </div>

      <div class="col-md-3">
        <div class="form-floating">
          <%= form.text_field :horario, class: "form-control", placeholder: "Horário" %>
          <%= form.label :horario, "Horário" %>
        </div>
      </div>

      <div class="col-12">
        <div class="form-floating">
          <%= form.text_area :observacao, class: "form-control", placeholder: "Observações adicionais", rows: 3, style: "height: 100px;" %>
          <%= form.label :observacao, "Observações" %>
        </div>
      </div>
    </div>
  </div>

  <div class="card-footer bg-light text-end">
    <%= link_to pacientes_path, class: "btn btn-outline-secondary me-2" do %>
      <i class="fas fa-arrow-left me-1"></i> Voltar
    <% end %>

    <%= form.submit "Salvar", class: "btn btn-primary px-4 fw-semibold" %>
  </div>
<% end %>

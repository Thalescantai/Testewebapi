<%= form_with(model: paciente, class: "card shadow-sm border-0") do |form| %>
  <div class="card-header bg-primary text-white fw-semibold">
    <i class="fas fa-user me-2"></i>
    <%= paciente.new_record? ? "Cadastrar Paciente" : "Editar Paciente" %>
  </div>

  <div class="card-body">
    <% if paciente.errors.any? %>
      <div class="alert alert-danger">
        <h6 class="fw-bold mb-2">
          <i class="fas fa-exclamation-triangle me-1"></i>
          Erros encontrados:
        </h6>
        <ul class="mb-0">
          <% paciente.errors.full_messages.each do |message| %>
            <li><%= message %></li>
          <% end %>
        </ul>
      </div>
    <% end %>

    <!-- üßç Dados Pessoais -->
    <h5 class="text-primary fw-bold mb-3 mt-2">
      <i class="fas fa-id-card me-1"></i> Dados Pessoais
    </h5>
    <div class="row g-3">
      <div class="col-md-6">
        <div class="form-floating">
          <%= form.text_field :nome, class: "form-control", placeholder: "Nome completo" %>
          <%= form.label :nome, "Nome completo" %>
        </div>
      </div>

      <div class="col-md-6">
        <div class="form-floating">
          <%= form.text_field :nome_social, class: "form-control", placeholder: "Nome social" %>
          <%= form.label :nome_social, "Nome social (opcional)" %>
        </div>
      </div>

      <div class="col-md-4">
        <div class="form-floating">
          <%= form.date_field :data_nascimento, class: "form-control" %>
          <%= form.label :data_nascimento, "Data de Nascimento" %>
        </div>
      </div>

      <div class="col-md-4">
        <div class="form-floating">
          <%= form.select :sexo,
                [["Masculino", "masculino"], ["Feminino", "feminino"], ["Indefinido", "indefinido"]],
                { include_blank: "Selecione..." },
                class: "form-select" %>
          <%= form.label :sexo, "Sexo" %>
        </div>
      </div>

      <div class="col-md-4">
        <div class="form-floating">
          <%= form.text_field :raca, class: "form-control", placeholder: "Ra√ßa/Cor" %>
          <%= form.label :raca, "Ra√ßa/Cor" %>
        </div>
      </div>
    </div>

    <!-- üìÑ Documentos -->
    <h5 class="text-primary fw-bold mb-3 mt-4">
      <i class="fas fa-file-alt me-1"></i> Documentos
    </h5>
    <div class="row g-3">
      <div class="col-md-4">
        <div class="form-floating">
          <%= form.text_field :cpf, class: "form-control" %>
          <%= form.label :cpf, "CPF" %>
        </div>
      </div>

      <div class="col-md-4">
        <div class="form-floating">
          <%= form.text_field :rg, class: "form-control" %>
          <%= form.label :rg, "RG" %>
        </div>
      </div>

      <div class="col-md-4">
        <div class="form-floating">
          <%= form.text_field :org_exp, class: "form-control" %>
          <%= form.label :org_exp, "Org√£o Expedidor" %>
        </div>
      </div>

      <div class="col-md-6">
        <div class="form-floating">
          <%= form.text_field :cartao_sus, class: "form-control" %>
          <%= form.label :cartao_sus, "Cart√£o SUS" %>
        </div>
      </div>
    </div>

    <!-- üåç Outras Informa√ß√µes -->
    <h5 class="text-primary fw-bold mb-3 mt-4">
      <i class="fas fa-globe me-1"></i> Outras Informa√ß√µes
    </h5>
    <div class="row g-3">
      <div class="col-md-4">
        <div class="form-floating">
          <%= form.text_field :profissao, class: "form-control" %>
          <%= form.label :profissao, "Profiss√£o" %>
        </div>
      </div>

      <div class="col-md-4">
        <div class="form-floating">
          <%= form.text_field :escolaridade, class: "form-control" %>
          <%= form.label :escolaridade, "Escolaridade" %>
        </div>
      </div>

      <div class="col-md-4">
        <div class="form-floating">
          <%= form.text_field :estado_civil, class: "form-control" %>
          <%= form.label :estado_civil, "Estado Civil" %>
        </div>
      </div>

      <div class="col-md-4">
        <div class="form-floating">
          <%= form.text_field :nacionalidade, class: "form-control" %>
          <%= form.label :nacionalidade, "Nacionalidade" %>
        </div>
      </div>

      <div class="col-md-4">
        <div class="form-floating">
          <%= form.text_field :naturalidade, class: "form-control" %>
          <%= form.label :naturalidade, "Naturalidade" %>
        </div>
      </div>

      <div class="col-md-4">
        <div class="form-floating">
          <%= form.text_field :nome_mae, class: "form-control" %>
          <%= form.label :nome_mae, "Nome da M√£e" %>
        </div>
      </div>

      <div class="col-md-4">
        <div class="form-floating">
          <%= form.text_field :celular, class: "form-control", placeholder: "(99) 99999-9999" %>
          <%= form.label :celular, "Celular" %>
        </div>
      </div>

      <div class="col-md-8">
        <div class="form-floating">
          <%= form.email_field :email, class: "form-control" %>
          <%= form.label :email, "Email" %>
        </div>
      </div>

      <div class="col-12">
        <div class="form-floating">
          <%= form.text_area :observacao, class: "form-control", style: "height: 100px;", placeholder: "Observa√ß√µes..." %>
          <%= form.label :observacao, "Observa√ß√µes" %>
        </div>
      </div>
    </div>
  </div>

  <div class="card-footer bg-light text-end">
    <%= link_to pacientes_path, class: "btn btn-outline-secondary me-2" do %>
      <i class="fas fa-arrow-left me-1"></i> Voltar
    <% end %>

    <%= form.submit "Salvar", class: "btn btn-primary px-4 fw-semibold" %>
  </div>
<% end %>

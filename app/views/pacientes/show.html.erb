<div class="container mt-4">
  <% if notice.present? %>
    <div class="alert alert-success alert-dismissible fade show shadow-sm" role="alert">
      <i class="fas fa-check-circle me-2"></i>
      <%= notice %>
      <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
  <% end %>

  <div class="card shadow-sm border-0">
    <div class="card-header bg-primary text-white d-flex justify-content-between align-items-center">
      <h4 class="mb-0 fw-semibold">
        <i class="fas fa-user me-2"></i> Detalhes do Paciente
      </h4>

      <div>
        <%= link_to edit_paciente_path(@paciente), class: "btn btn-sm btn-light text-primary me-2" do %>
          <i class="fas fa-edit me-1"></i> Editar
        <% end %>

        <%= link_to pacientes_path, class: "btn btn-sm btn-outline-light" do %>
          <i class="fas fa-arrow-left me-1"></i> Voltar
        <% end %>
      </div>
    </div>

    <div class="card-body">
      <div class="row g-3">
        <div class="col-md-6">
          <p class="mb-1 text-muted small">Nome</p>
          <p class="fw-semibold"><%= @paciente.nome.presence || "-" %></p>
        </div>

        <div class="col-md-3">
          <p class="mb-1 text-muted small">CPF</p>
          <p class="fw-semibold"><%= @paciente.cpf.presence || "-" %></p>
        </div>

        <div class="col-md-3">
          <p class="mb-1 text-muted small">Sexo</p>
          <% if @paciente.sexo.present? %>
            <% cor = case @paciente.sexo
                    when "masculino" then "primary"
                    when "feminino" then "danger"
                    else "secondary"
                    end %>
            <span class="badge bg-<%= cor %> text-uppercase px-3 py-2"><%= @paciente.sexo %></span>
          <% else %>
            <p class="fw-semibold text-muted">-</p>
          <% end %>
        </div>

        <div class="col-md-3">
          <p class="mb-1 text-muted small">Data de Nascimento</p>
          <p class="fw-semibold">
            <%= @paciente.data_nascimento&.strftime("%d/%m/%Y") || "-" %>
          </p>
        </div>

        <div class="col-md-3">
          <p class="mb-1 text-muted small">Celular</p>
          <p class="fw-semibold"><%= @paciente.celular.presence || "-" %></p>
        </div>

        <div class="col-md-6">
          <p class="mb-1 text-muted small">Email</p>
          <p class="fw-semibold"><%= @paciente.email.presence || "-" %></p>
        </div>

        <div class="col-md-6">
          <p class="mb-1 text-muted small">Nome Social</p>
          <p class="fw-semibold"><%= @paciente.nome_social.presence || "-" %></p>
        </div>

        <div class="col-md-3">
          <p class="mb-1 text-muted small">Horário</p>
          <p class="fw-semibold"><%= @paciente.horario.presence || "-" %></p>
        </div>

        <div class="col-12">
          <p class="mb-1 text-muted small">Observação</p>
          <div class="border rounded p-2 bg-light">
            <%= @paciente.observacao.presence || "<span class='text-muted'>Sem observações</span>".html_safe %>
          </div>
        </div>
      </div>
    </div>

    <div class="card-footer bg-light text-end">
      <%= button_to @paciente, method: :delete,
          data: { turbo_confirm: "Tem certeza que deseja excluir este paciente?" },
          class: "btn btn-danger" do %>
        <i class="fas fa-trash me-1"></i> Excluir Paciente
      <% end %>
    </div>
  </div>
</div>
